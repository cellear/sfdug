id: sfdug_videos
label: 'Import SFDUG YouTube Videos'
migration_group: sfdug
migration_tags:
  - SFDUG
  - Media

source:
  plugin: csv
  path: modules/custom/sfdug_migrate/migrations/sfdug_videos.csv
  header_offset: 0
  ids:
    - video_id
  fields:
    0:
      name: video_id
      label: 'Video ID'
    1:
      name: date
      label: 'Date'
    2:
      name: title
      label: 'Title'
    3:
      name: speaker
      label: 'Speaker'
    4:
      name: url
      label: 'URL'
    5:
      name: suggested_filename
      label: 'Suggested Filename'
    6:
      name: thumbnail_url
      label: 'Thumbnail URL'

process:
  # Media bundle
  bundle:
    plugin: default_value
    default_value: remote_video

  # Media name/title
  name: title

  status:
    plugin: default_value
    default_value: 1

  # Set created date
  created:
    plugin: callback
    callable: strtotime
    source: date

  # Remote video URL
  field_media_oembed_video: url

destination:
  plugin: 'entity:media'

migration_dependencies: {}
